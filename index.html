<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ModAPK Platform - Online Premium Modified Android Apps</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="manifest" href="data:application/json;base64,eyJuYW1lIjoiTW9kQVBLIFBsYXRmb3JtIiwic2hvcnRfbmFtZSI6Ik1vZEFQSyIsInN0YXJ0X3VybCI6Ii8iLCJkaXNwbGF5Ijoic3RhbmRhbG9uZSIsImJhY2tncm91bmRfY29sb3IiOiIjZjVmNWY1IiwidGhlbWVfY29sb3IiOiIjMjFhMDhkIn0=">
    <meta name="theme-color" content="#21a08d">
</head>
<body>
    <!-- Setup Wizard -->
    <div id="setupWizard" class="setup-wizard hidden">
        <div class="setup-content">
            <div class="setup-header">
                <i class="fas fa-rocket"></i>
                <h2>Welcome to ModAPK Platform</h2>
                <p>Let's set up your online database in just a few minutes!</p>
            </div>
            <div class="setup-steps">
                <div class="setup-step">
                    <div class="step-number">1</div>
                    <div class="step-content">
                        <h3>Create Supabase Account</h3>
                        <p>Visit <a href="https://supabase.com" target="_blank">supabase.com</a> and create a free account</p>
                    </div>
                </div>
                <div class="setup-step">
                    <div class="step-number">2</div>
                    <div class="step-content">
                        <h3>Create New Project</h3>
                        <p>Create a new project and note your project URL and API key</p>
                    </div>
                </div>
                <div class="setup-step">
                    <div class="step-number">3</div>
                    <div class="step-content">
                        <h3>Run SQL Script</h3>
                        <p>Copy and run this SQL in your Supabase SQL editor:</p>
                        <div class="sql-script">
                            <pre><code>-- Enable RLS
alter table if exists public.apks enable row level security;
alter table if exists public.categories enable row level security;
alter table if exists public.user_profiles enable row level security;

-- Create tables
CREATE TABLE IF NOT EXISTS public.categories (
  id SERIAL PRIMARY KEY,
  name VARCHAR(50) UNIQUE NOT NULL,
  icon VARCHAR(50) NOT NULL,
  color VARCHAR(7) NOT NULL,
  count INTEGER DEFAULT 0,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

CREATE TABLE IF NOT EXISTS public.apks (
  id SERIAL PRIMARY KEY,
  name VARCHAR(100) NOT NULL,
  version VARCHAR(20) NOT NULL,
  package_name VARCHAR(100) NOT NULL,
  category VARCHAR(50) NOT NULL,
  description TEXT NOT NULL,
  download_url TEXT NOT NULL,
  icon_url TEXT,
  file_size VARCHAR(20),
  android_version VARCHAR(10),
  download_count INTEGER DEFAULT 0,
  rating DECIMAL(2,1) DEFAULT 4.5,
  review_count INTEGER DEFAULT 0,
  permissions TEXT[],
  features TEXT[],
  tags TEXT[],
  verified BOOLEAN DEFAULT false,
  featured BOOLEAN DEFAULT false,
  trending BOOLEAN DEFAULT false,
  last_updated DATE DEFAULT CURRENT_DATE,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  created_by UUID REFERENCES auth.users(id)
);

CREATE TABLE IF NOT EXISTS public.user_profiles (
  id UUID REFERENCES auth.users(id) PRIMARY KEY,
  username VARCHAR(50) UNIQUE,
  role VARCHAR(20) DEFAULT 'user',
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

CREATE TABLE IF NOT EXISTS public.downloads (
  id SERIAL PRIMARY KEY,
  apk_id INTEGER REFERENCES public.apks(id),
  user_id UUID REFERENCES auth.users(id),
  downloaded_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- Insert default categories
INSERT INTO public.categories (name, icon, color) VALUES
('Social', 'fas fa-users', '#4267B2'),
('Music', 'fas fa-music', '#1DB954'),
('Entertainment', 'fas fa-film', '#FF0000'),
('Games', 'fas fa-gamepad', '#FF6B6B'),
('Photography', 'fas fa-camera', '#E1306C'),
('Productivity', 'fas fa-briefcase', '#4285F4'),
('Tools', 'fas fa-wrench', '#FF9500'),
('Communication', 'fas fa-comments', '#25D366')
ON CONFLICT (name) DO NOTHING;

-- Insert sample APKs
INSERT INTO public.apks (name, version, package_name, category, description, download_url, icon_url, file_size, android_version, download_count, rating, review_count, features, tags, verified, featured, trending) VALUES
('WhatsApp Plus', '17.60.2', 'com.whatsapp.plus', 'Social', 'Enhanced WhatsApp with advanced privacy features, custom themes, extended media sharing, message scheduling, and anti-ban protection.', 'https://download.apkpure.com/b/XAPK/Y29tLndoYXRzYXBwLnBsdXM', 'https://via.placeholder.com/64x64/25D366/ffffff?text=WA+', '58.7 MB', '4.4+', 2847362, 4.8, 12047, ARRAY['Custom Themes', 'Privacy Options', 'Anti-Ban', 'Message Scheduling'], ARRAY['messaging', 'social', 'themes', 'privacy'], true, true, true),
('Spotify Premium', '8.7.88.475', 'com.spotify.music.premium', 'Music', 'Unlock premium features including ad-free listening, unlimited skips, offline downloads, and high-quality streaming.', 'https://download.apkpure.com/b/XAPK/Y29tLnNwb3RpZnkubXVzaWM', 'https://via.placeholder.com/64x64/1DB954/ffffff?text=SP', '31.4 MB', '5.0+', 3421876, 4.9, 18392, ARRAY['Ad-Free', 'Offline Downloads', 'Unlimited Skips', 'High Quality'], ARRAY['music', 'streaming', 'premium', 'offline'], true, true, true),
('Instagram Pro', '286.0.0.21.123', 'com.instagram.android.pro', 'Social', 'Enhanced Instagram with download capabilities, story viewing without seen status, zoom profile pictures, and advanced privacy controls.', 'https://download.apkpure.com/b/APK/Y29tLmluc3RhZ3JhbS5hbmRyb2lk', 'https://via.placeholder.com/64x64/E1306C/ffffff?text=IG', '43.2 MB', '6.0+', 1967543, 4.7, 8429, ARRAY['Download Photos/Videos', 'Anonymous Story View', 'Zoom Profile Pics', 'No Ads'], ARRAY['social', 'photography', 'download', 'privacy'], true, true, false),
('YouTube Vanced', '18.23.35', 'com.vanced.android.youtube', 'Entertainment', 'Advanced YouTube client with ad-blocking, background playback, dark theme, and additional customization options.', 'https://download.apkpure.com/b/APK/Y29tLnZhbmNlZC5hbmRyb2lk', 'https://via.placeholder.com/64x64/FF0000/ffffff?text=YT', '67.8 MB', '6.0+', 5234891, 4.9, 23847, ARRAY['Ad-Free', 'Background Play', 'Picture-in-Picture', 'Dark Theme'], ARRAY['video', 'entertainment', 'ad-free', 'background'], true, true, true),
('Netflix Mod', '8.62.0', 'com.netflix.mediaclient.mod', 'Entertainment', 'Modded Netflix with premium features unlocked, 4K streaming, and ad-free experience.', 'https://download.apkpure.com/b/APK/Y29tLm5ldGZsaXgubW9k', 'https://via.placeholder.com/64x64/E50914/ffffff?text=NF', '89.1 MB', '5.0+', 4532891, 4.6, 15632, ARRAY['Premium Unlocked', '4K Streaming', 'Ad-Free', 'Offline Downloads'], ARRAY['streaming', 'movies', 'premium', '4k'], true, false, true),
('TikTok Pro', '29.8.4', 'com.zhiliaoapp.musically.pro', 'Social', 'Enhanced TikTok with download capabilities, no watermarks, and advanced editing features.', 'https://download.apkpure.com/b/APK/Y29tLnRpa3Rva3Byby5hcGs', 'https://via.placeholder.com/64x64/000000/ffffff?text=TT', '142.3 MB', '6.0+', 6789123, 4.5, 28391, ARRAY['Video Download', 'No Watermark', 'Advanced Editor', 'HD Export'], ARRAY['video', 'social', 'editor', 'download'], true, false, false)
ON CONFLICT DO NOTHING;

-- Enable real-time
ALTER PUBLICATION supabase_realtime ADD TABLE public.apks;
ALTER PUBLICATION supabase_realtime ADD TABLE public.categories;
ALTER PUBLICATION supabase_realtime ADD TABLE public.user_profiles;

-- RLS Policies
-- Categories (read-only for all, write for admins)
CREATE POLICY "Allow read access to categories" ON public.categories FOR SELECT USING (true);
CREATE POLICY "Allow admin write access to categories" ON public.categories FOR ALL USING (
  EXISTS (SELECT 1 FROM public.user_profiles WHERE id = auth.uid() AND role = 'admin')
);

-- APKs (read for all, write for admins)
CREATE POLICY "Allow read access to apks" ON public.apks FOR SELECT USING (true);
CREATE POLICY "Allow admin write access to apks" ON public.apks FOR ALL USING (
  EXISTS (SELECT 1 FROM public.user_profiles WHERE id = auth.uid() AND role = 'admin')
);

-- User profiles (users can read all, update own)
CREATE POLICY "Allow read access to user profiles" ON public.user_profiles FOR SELECT USING (true);
CREATE POLICY "Allow users to update own profile" ON public.user_profiles FOR UPDATE USING (auth.uid() = id);
CREATE POLICY "Allow users to insert own profile" ON public.user_profiles FOR INSERT WITH CHECK (auth.uid() = id);

-- Downloads (users can insert own, admins can read all)
CREATE POLICY "Allow users to insert own downloads" ON public.downloads FOR INSERT WITH CHECK (auth.uid() = user_id);
CREATE POLICY "Allow admin read access to downloads" ON public.downloads FOR SELECT USING (
  auth.uid() = user_id OR EXISTS (SELECT 1 FROM public.user_profiles WHERE id = auth.uid() AND role = 'admin')
);

-- Function to update category counts
CREATE OR REPLACE FUNCTION update_category_counts()
RETURNS void AS $$
BEGIN
  UPDATE public.categories 
  SET count = (
    SELECT COUNT(*) 
    FROM public.apks 
    WHERE apks.category = categories.name
  );
END;
$$ LANGUAGE plpgsql SECURITY DEFINER;

-- Trigger to update category counts when APKs change
CREATE OR REPLACE FUNCTION trigger_update_category_counts()
RETURNS trigger AS $$
BEGIN
  PERFORM update_category_counts();
  RETURN NULL;
END;
$$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS update_category_counts_trigger ON public.apks;
CREATE TRIGGER update_category_counts_trigger
  AFTER INSERT OR UPDATE OR DELETE ON public.apks
  FOR EACH STATEMENT
  EXECUTE FUNCTION trigger_update_category_counts();

-- Initial category count update
SELECT update_category_counts();</code></pre>
                        </div>
                        <button id="copySQLBtn" class="btn btn--outline">
                            <i class="fas fa-copy"></i> Copy SQL
                        </button>
                    </div>
                </div>
                <div class="setup-step">
                    <div class="step-number">4</div>
                    <div class="step-content">
                        <h3>Configure Connection</h3>
                        <form id="supabaseConfigForm">
                            <div class="form-group">
                                <label class="form-label">Project URL</label>
                                <input type="url" id="supabaseUrl" class="form-control" placeholder="https://your-project.supabase.co" required>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Public API Key (anon key)</label>
                                <input type="text" id="supabaseKey" class="form-control" placeholder="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..." required>
                            </div>
                            <button type="submit" class="btn btn--primary btn--full-width">
                                <i class="fas fa-rocket"></i> Launch Platform
                            </button>
                        </form>
                    </div>
                </div>
            </div>
            <div class="setup-footer">
                <p><strong>Default Admin Login:</strong> admin@modapk.com / admin123</p>
                <p>Don't have Supabase? <button id="demoModeBtn" class="btn btn--outline">Try Demo Mode</button></p>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <i class="fas fa-mobile-alt"></i>
                    <h1>ModAPK Platform</h1>
                    <span class="online-badge"><i class="fas fa-circle"></i> Online</span>
                </div>
                <nav class="nav">
                    <div class="search-container">
                        <input type="text" id="searchInput" class="search-input" placeholder="Search apps...">
                        <i class="fas fa-search search-icon"></i>
                    </div>
                    <div class="nav-buttons">
                        <button id="themeToggle" class="btn btn--outline">
                            <i class="fas fa-moon"></i>
                        </button>
                        <button id="adminPanelBtn" class="btn btn--primary admin-btn hidden">
                            <i class="fas fa-cog"></i> Admin Panel
                        </button>
                        <button id="loginBtn" class="btn btn--outline">
                            <i class="fas fa-sign-in-alt"></i> Login
                        </button>
                        <button id="signupBtn" class="btn btn--primary">
                            <i class="fas fa-user-plus"></i> Sign Up
                        </button>
                        <div id="userMenu" class="user-menu hidden">
                            <img src="https://via.placeholder.com/32" alt="User" class="user-avatar">
                            <span id="userName"></span>
                            <button id="logoutBtn" class="btn btn--outline btn--sm">Logout</button>
                        </div>
                    </div>
                </nav>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main">
        <!-- Hero Section -->
        <section class="hero">
            <div class="container">
                <div class="hero-content">
                    <h2>Premium Modified Android Apps</h2>
                    <p>Download the latest modded APKs with enhanced features, ad-free experience, and premium unlocks - now with real-time online sync!</p>
                    <div class="hero-stats">
                        <div class="stat">
                            <h3 id="totalApks">0</h3>
                            <span>Total APKs</span>
                        </div>
                        <div class="stat">
                            <h3 id="totalDownloads">0</h3>
                            <span>Downloads</span>
                        </div>
                        <div class="stat">
                            <h3 id="activeUsers">2.4M</h3>
                            <span>Active Users</span>
                        </div>
                        <div class="stat">
                            <h3><i class="fas fa-wifi online-indicator"></i> Online</h3>
                            <span>Real-time Sync</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Categories -->
        <section class="categories">
            <div class="container">
                <h3>Browse Categories</h3>
                <div id="categoriesGrid" class="categories-grid"></div>
            </div>
        </section>

        <!-- Filters -->
        <section class="filters">
            <div class="container">
                <div class="filter-controls">
                    <select id="categoryFilter" class="form-control">
                        <option value="">All Categories</option>
                    </select>
                    <select id="sortFilter" class="form-control">
                        <option value="downloads">Most Downloaded</option>
                        <option value="rating">Highest Rated</option>
                        <option value="date">Latest</option>
                        <option value="name">Name A-Z</option>
                    </select>
                    <button id="filterToggle" class="btn btn--outline">
                        <i class="fas fa-filter"></i> Advanced Filters
                    </button>
                </div>
                <div id="advancedFilters" class="advanced-filters hidden">
                    <div class="filter-row">
                        <label>File Size:</label>
                        <select id="sizeFilter" class="form-control">
                            <option value="">Any Size</option>
                            <option value="small">Under 50MB</option>
                            <option value="medium">50MB - 100MB</option>
                            <option value="large">Over 100MB</option>
                        </select>
                    </div>
                    <div class="filter-row">
                        <label>Android Version:</label>
                        <select id="androidFilter" class="form-control">
                            <option value="">Any Version</option>
                            <option value="4.4">4.4+</option>
                            <option value="5.0">5.0+</option>
                            <option value="6.0">6.0+</option>
                            <option value="7.0">7.0+</option>
                        </select>
                    </div>
                    <div class="filter-row">
                        <label>Features:</label>
                        <div class="checkbox-group">
                            <label><input type="checkbox" value="verified"> Verified Only</label>
                            <label><input type="checkbox" value="featured"> Featured</label>
                            <label><input type="checkbox" value="trending"> Trending</label>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- APK Grid -->
        <section class="apks-section">
            <div class="container">
                <div class="section-header">
                    <h3 id="sectionTitle">Featured Apps</h3>
                    <div class="view-controls">
                        <button id="gridView" class="view-btn active"><i class="fas fa-th"></i></button>
                        <button id="listView" class="view-btn"><i class="fas fa-list"></i></button>
                    </div>
                </div>
                <div id="apksGrid" class="apks-grid"></div>
                <div id="loadingSpinner" class="loading-spinner hidden">
                    <i class="fas fa-spinner fa-spin"></i>
                    <span>Loading apps...</span>
                </div>
                <button id="loadMoreBtn" class="btn btn--outline load-more-btn">Load More Apps</button>
            </div>
        </section>
    </main>

    <!-- Login Modal -->
    <div id="loginModal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Login to ModAPK</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <form id="loginForm">
                    <div class="form-group">
                        <label class="form-label">Email</label>
                        <input type="email" id="loginEmail" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Password</label>
                        <input type="password" id="loginPassword" class="form-control" required>
                    </div>
                    <button type="submit" class="btn btn--primary btn--full-width">Login</button>
                </form>
                <div class="auth-divider">
                    <span>or continue with</span>
                </div>
                <div class="social-login">
                    <button id="googleLoginBtn" class="btn btn--outline social-btn">
                        <i class="fab fa-google"></i> Google
                    </button>
                    <button id="githubLoginBtn" class="btn btn--outline social-btn">
                        <i class="fab fa-github"></i> GitHub
                    </button>
                </div>
                <p class="auth-note">
                    <strong>Default Admin:</strong> admin@modapk.com / admin123
                </p>
            </div>
        </div>
    </div>

    <!-- Signup Modal -->
    <div id="signupModal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Join ModAPK Platform</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <form id="signupForm">
                    <div class="form-group">
                        <label class="form-label">Username</label>
                        <input type="text" id="signupUsername" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Email</label>
                        <input type="email" id="signupEmail" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Password</label>
                        <input type="password" id="signupPassword" class="form-control" required>
                    </div>
                    <button type="submit" class="btn btn--primary btn--full-width">Sign Up Instantly</button>
                </form>
                <p class="auth-note">Account syncs across all devices! No email verification required.</p>
            </div>
        </div>
    </div>

    <!-- Admin Panel -->
    <div id="adminPanel" class="admin-panel hidden">
        <div class="admin-sidebar">
            <div class="admin-header">
                <h3><i class="fas fa-cog"></i> Admin Panel</h3>
                <button id="closeAdminPanel" class="btn btn--outline btn--sm">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <nav class="admin-nav">
                <button class="admin-nav-btn active" data-panel="dashboard">
                    <i class="fas fa-chart-line"></i> Dashboard
                </button>
                <button class="admin-nav-btn" data-panel="apks">
                    <i class="fas fa-mobile-alt"></i> Manage APKs
                </button>
                <button class="admin-nav-btn" data-panel="categories">
                    <i class="fas fa-tags"></i> Categories
                </button>
                <button class="admin-nav-btn" data-panel="users">
                    <i class="fas fa-users"></i> Users
                </button>
                <button class="admin-nav-btn" data-panel="analytics">
                    <i class="fas fa-analytics"></i> Analytics
                </button>
            </nav>
        </div>
        <div class="admin-content">
            <!-- Dashboard Panel -->
            <div id="adminDashboard" class="admin-content-panel active">
                <h3>Dashboard Overview</h3>
                <div class="admin-stats">
                    <div class="admin-stat-card">
                        <h4 id="adminTotalApks">0</h4>
                        <span>Total APKs</span>
                    </div>
                    <div class="admin-stat-card">
                        <h4 id="adminTotalUsers">0</h4>
                        <span>Total Users</span>
                    </div>
                    <div class="admin-stat-card">
                        <h4 id="adminTotalDownloads">0</h4>
                        <span>Total Downloads</span>
                    </div>
                    <div class="admin-stat-card">
                        <h4><i class="fas fa-wifi online-indicator"></i></h4>
                        <span>Real-time Online</span>
                    </div>
                </div>
                <div class="admin-activity">
                    <h4>Recent Activity (Real-time)</h4>
                    <div id="adminActivityLog" class="activity-log"></div>
                </div>
            </div>

            <!-- APK Management Panel -->
            <div id="adminApks" class="admin-content-panel">
                <div class="panel-header">
                    <h3>Manage APKs (Real-time)</h3>
                    <button id="addApkBtn" class="btn btn--primary">
                        <i class="fas fa-plus"></i> Add New APK
                    </button>
                </div>
                <div class="admin-apks-list">
                    <div id="adminApksList"></div>
                </div>
            </div>

            <!-- Add/Edit APK Form -->
            <div id="apkForm" class="apk-form hidden">
                <div class="form-header">
                    <h3 id="formTitle">Add New APK</h3>
                    <button id="cancelApkForm" class="btn btn--outline">Cancel</button>
                </div>
                <form id="addApkForm">
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">App Name</label>
                            <input type="text" id="apkName" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Version</label>
                            <input type="text" id="apkVersion" class="form-control" required>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Package Name</label>
                            <input type="text" id="apkPackage" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Category</label>
                            <select id="apkCategory" class="form-control" required></select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Description</label>
                        <textarea id="apkDescription" class="form-control" rows="3" required></textarea>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">File Size</label>
                            <input type="text" id="apkSize" class="form-control" placeholder="e.g., 45.2 MB">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Android Version</label>
                            <input type="text" id="apkAndroidVersion" class="form-control" placeholder="e.g., 5.0+">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Download URL</label>
                        <input type="url" id="apkDownloadUrl" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Features (comma-separated)</label>
                        <input type="text" id="apkFeatures" class="form-control" placeholder="Ad-Free, Premium, Unlocked">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Tags (comma-separated)</label>
                        <input type="text" id="apkTags" class="form-control" placeholder="music, streaming, premium">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Icon URL (optional)</label>
                        <input type="url" id="apkIconUrl" class="form-control" placeholder="https://example.com/icon.png">
                    </div>
                    <div class="form-actions">
                        <button type="submit" class="btn btn--primary">Save APK</button>
                        <button type="button" id="cancelApkForm2" class="btn btn--outline">Cancel</button>
                    </div>
                </form>
            </div>

            <!-- Other admin panels -->
            <div id="adminCategories" class="admin-content-panel">
                <h3>Manage Categories</h3>
                <div id="categoriesManager"></div>
            </div>

            <div id="adminUsers" class="admin-content-panel">
                <h3>User Management (Real-time)</h3>
                <div id="usersManager"></div>
            </div>

            <div id="adminAnalytics" class="admin-content-panel">
                <h3>Analytics & Reports</h3>
                <div id="analyticsContent"></div>
            </div>
        </div>
    </div>

    <!-- Download Progress Modal -->
    <div id="downloadModal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Download Progress</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="download-info">
                    <div class="download-app">
                        <img id="downloadAppIcon" src="" alt="App Icon" class="download-app-icon">
                        <div class="download-app-details">
                            <h4 id="downloadAppName"></h4>
                            <span id="downloadAppSize"></span>
                        </div>
                    </div>
                    <div class="download-progress">
                        <div class="progress-bar">
                            <div id="downloadProgressBar" class="progress-fill"></div>
                        </div>
                        <div class="progress-text">
                            <span id="downloadPercentage">0%</span>
                            <span id="downloadSpeed">0 KB/s</span>
                        </div>
                    </div>
                    <div class="download-actions">
                        <button id="pauseDownloadBtn" class="btn btn--outline">
                            <i class="fas fa-pause"></i> Pause
                        </button>
                        <button id="cancelDownloadBtn" class="btn btn--outline">
                            <i class="fas fa-times"></i> Cancel
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Connection Status -->
    <div id="connectionStatus" class="connection-status hidden">
        <i class="fas fa-wifi-slash"></i>
        <span>Connection lost - Retrying...</span>
    </div>

    <!-- Toast Notifications -->
    <div id="toastContainer" class="toast-container"></div>

    <!-- GitHub Deployment Info -->
    <div id="deploymentInfo" class="deployment-info hidden">
        <div class="deployment-content">
            <h3><i class="fas fa-rocket"></i> Ready for GitHub Pages!</h3>
            <p>Your platform is now fully configured and ready to deploy:</p>
            <ol>
                <li>Fork or clone this repository</li>
                <li>Enable GitHub Pages in repository settings</li>
                <li>Your platform will be live with real-time sync!</li>
            </ol>
            <button id="closeDeploymentInfo" class="btn btn--primary">Got it!</button>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="app.js"></script>
</body>
</html>