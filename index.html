
 <!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Sujen Stopwatch — Persistent</title>
  <meta name="description" content="Sujen Stopwatch: main persistent stopwatch + distraction stopwatch; mandatory login (localStorage); fullscreen; motivational quotes." />
  <style>
    :root{--bg:#071427;--card:#0b2340;--accent:#06b6d4;--muted:#9fb6c7;--white:#e6f7fb}
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,Arial;background:linear-gradient(180deg,#021018,#071427);color:var(--white)}
    .wrap{max-width:820px;margin:18px auto;padding:18px}
    .card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));padding:18px;border-radius:12px;box-shadow:0 10px 30px rgba(0,0,0,0.5)}
    h1{margin:0;font-size:20px}
    .muted{color:var(--muted);font-size:13px}
    label{display:block;margin-top:10px;font-size:13px;color:var(--muted)}
    input,button,select{font-size:15px;padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:var(--white)}
    .row{display:flex;gap:10px;align-items:center}
    .col{flex:1}
    .btn{background:var(--accent);color:#002;padding:10px 14px;border-radius:10px;border:none;cursor:pointer}
    .btn.ghost{background:transparent;border:1px solid rgba(6,182,212,0.12);color:var(--accent)}
    #time{font-weight:700;letter-spacing:1px;font-size:72px}
    #time.small{font-size:40px}
    .quote{margin-top:14px;font-size:16px;color:#cfeef8;font-style:italic}
    footer{margin-top:12px;color:var(--muted);font-size:12px}
    .center{display:flex;align-items:center;justify-content:center}

    /* fullscreen styling */
    .fullscreen { background: #000 !important; color: #0ff !important; height:100vh; width:100vw; display:flex; align-items:center; justify-content:center; flex-direction:column }
    .fullscreen #time{font-size:18vh}

    /* small distraction timer box */
    .rest-box{margin-top:12px;padding:12px;border-radius:10px;background:rgba(255,255,255,0.02)}
    .hidden{display:none}

    @media (max-width:520px){ #time{font-size:44px} }
  </style>
</head>
<body>
  <div class="wrap card" id="app">
    <div style="display:flex;justify-content:space-between;align-items:center">
      <div>
        <h1>Sujen Stopwatch</h1>
        <div class="muted">Simple, local, persistent. Login required.</div>
      </div>
      <div class="muted">Promo: <strong>sujen07</strong></div>
    </div>

    <div id="loginArea">
      <label>Username (required)</label>
      <input id="username" placeholder="username" autofocus />
      <label>Password (required)</label>
      <input id="password" type="password" placeholder="password" />
      <label>Promo code (required)</label>
      <input id="promocode" placeholder="promo code" />
      <div class="row" style="margin-top:12px">
        <button class="btn" id="loginBtn">Login</button>
      </div>
      <div id="loginMsg" class="muted" style="margin-top:8px">All fields mandatory. Defaults: username <strong>sujenalig04</strong> password <strong>neet2026</strong> promo <strong>sujen07</strong></div>
    </div>

    <div id="mainUI" class="hidden">
      <div style="display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap">
        <div>
          <div id="time">00:00:00</div>
          <div class="muted" id="status">Stopped</div>
        </div>
        <div style="min-width:240px">
          <div class="row">
            <button class="btn" id="startBtn">Start</button>
            <button class="btn" id="stopBtn">Stop</button>
            <button class="btn ghost" id="resetBtnMain">Reset</button>
          </div>
          <div class="row" style="margin-top:10px">
            <button class="btn ghost" id="fullscreenBtn">Fullscreen</button>
            <button class="btn ghost" id="openRestBtn">Open Distraction Timer</button>
          </div>
        </div>
      </div>

      <div class="quote" id="quoteArea">"Study with purpose — small steps daily."</div>

      <div id="restArea" class="hidden">
        <div class="rest-box">
          <div style="display:flex;justify-content:space-between;align-items:center">
            <div>
              <div id="restTime" class="muted" style="font-size:40px;font-weight:700">00:00:00</div>
              <div class="muted" id="restStatus">Distraction timer stopped</div>
            </div>
            <div style="min-width:200px">
              <div class="row">
                <button class="btn" id="restStart">Start</button>
                <button class="btn" id="restStop">Stop</button>
                <button class="btn ghost" id="restReset">Reset</button>
              </div>
              <div style="margin-top:8px" class="muted">Tracks distraction/rest time separately.</div>
            </div>
          </div>
        </div>
      </div>

      <footer>Data stored in <strong>localStorage</strong>. It will survive tab closes and browser restarts unless you clear site data.</footer>
    </div>
  </div>

  <script>
    // Sujen Stopwatch: persistent main + distraction stopwatch
    // All data stored in localStorage under keys: main_sw, rest_sw, logged_user

    const DEFAULTS = { username: 'sujenalig04', password: 'neet2026', promo: 'sujen07' };

    // Elements
    const loginArea = document.getElementById('loginArea');
    const mainUI = document.getElementById('mainUI');
    const loginBtn = document.getElementById('loginBtn');
    const usernameInp = document.getElementById('username');
    const passwordInp = document.getElementById('password');
    const promoInp = document.getElementById('promocode');
    const loginMsg = document.getElementById('loginMsg');

    const timeEl = document.getElementById('time');
    const statusEl = document.getElementById('status');
    const startBtn = document.getElementById('startBtn');
    const stopBtn = document.getElementById('stopBtn');
    const resetBtnMain = document.getElementById('resetBtnMain');
    const fullscreenBtn = document.getElementById('fullscreenBtn');
    const openRestBtn = document.getElementById('openRestBtn');
    const quoteArea = document.getElementById('quoteArea');

    const restArea = document.getElementById('restArea');
    const restTimeEl = document.getElementById('restTime');
    const restStatus = document.getElementById('restStatus');
    const restStart = document.getElementById('restStart');
    const restStop = document.getElementById('restStop');
    const restReset = document.getElementById('restReset');

    // Storage keys
    const KEY_MAIN = 'main_sw';
    const KEY_REST = 'rest_sw';
    const KEY_LOGGED = 'logged_user';

    // Timers state
    let main = { elapsed:0, running:false, startedAt:null }; // elapsed in seconds
    let rest = { elapsed:0, running:false, startedAt:null };
    let mainInterval = null;
    let restInterval = null;

    // Quotes
    const quotes_neet = [
      "Remember why you started — small progress every day counts.",
      "Practice the hard questions first; the rest becomes easier.",
      "NEET is a marathon: steady preparation wins.",
      "Active recall beats passive review — test yourself.",
      "Consistency builds results."
    ];
    const quotes_fin = [
      "Invest in your skills — they compound over time.",
      "Small daily savings become big opportunities.",
      "Financial habits are learned, not found."
    ];
    const quotes = quotes_neet.concat(quotes_fin);

    // Helpers
    function formatHMS(sec){ const h=Math.floor(sec/3600), m=Math.floor((sec%3600)/60), s=sec%60; return [h,m,s].map(n=>String(n).padStart(2,'0')).join(':'); }

    function saveMain(){ localStorage.setItem(KEY_MAIN, JSON.stringify(main)); }
    function saveRest(){ localStorage.setItem(KEY_REST, JSON.stringify(rest)); }
    function saveLogged(user){ localStorage.setItem(KEY_LOGGED, JSON.stringify(user)); }

    function loadMain(){ const v = localStorage.getItem(KEY_MAIN); if(v){ try{ main = JSON.parse(v); }catch(e){} } }
    function loadRest(){ const v = localStorage.getItem(KEY_REST); if(v){ try{ rest = JSON.parse(v); }catch(e){} } }
    function loadLogged(){ const v = localStorage.getItem(KEY_LOGGED); if(v){ try{ return JSON.parse(v); }catch(e){} } return null; }

    // Display updates (live, 100ms)
    function updateMainDisplay(){ let elapsed = main.elapsed; if(main.running && main.startedAt){ elapsed = Math.floor(main.elapsed + (Date.now() - new Date(main.startedAt))/1000); }
      timeEl.textContent = formatHMS(elapsed); statusEl.textContent = main.running ? 'Running' : 'Stopped'; }
    function updateRestDisplay(){ let elapsed = rest.elapsed; if(rest.running && rest.startedAt){ elapsed = Math.floor(rest.elapsed + (Date.now() - new Date(rest.startedAt))/1000); }
      restTimeEl.textContent = formatHMS(elapsed); restStatus.textContent = rest.running ? 'Distraction running' : 'Distraction stopped'; }

    // Timer controls
    function startMain(){ if(main.running) return; main.running = true; main.startedAt = new Date().toISOString(); if(mainInterval) clearInterval(mainInterval); mainInterval = setInterval(updateMainDisplay, 100); saveMain(); updateMainDisplay(); }
    function stopMain(){ if(!main.running) return; main.elapsed = Math.floor(main.elapsed + (Date.now() - new Date(main.startedAt))/1000); main.running = false; main.startedAt = null; if(mainInterval) clearInterval(mainInterval); mainInterval = null; saveMain(); updateMainDisplay(); }
    function resetMain(){ if(!confirm('Reset Sujen Stopwatch? This will clear time.')) return; main = { elapsed:0, running:false, startedAt:null }; saveMain(); updateMainDisplay(); }

    function startRest(){ if(rest.running) return; rest.running = true; rest.startedAt = new Date().toISOString(); if(restInterval) clearInterval(restInterval); restInterval = setInterval(updateRestDisplay, 100); saveRest(); updateRestDisplay(); }
    function stopRest(){ if(!rest.running) return; rest.elapsed = Math.floor(rest.elapsed + (Date.now() - new Date(rest.startedAt))/1000); rest.running = false; rest.startedAt = null; if(restInterval) clearInterval(restInterval); restInterval = null; saveRest(); updateRestDisplay(); }
    function resetRest(){ if(!confirm('Reset Distraction stopwatch? This will clear distraction time.')) return; rest = { elapsed:0, running:false, startedAt:null }; saveRest(); updateRestDisplay(); }

    // Fullscreen
    function toggleFullscreen(){ const el = document.documentElement; if(!document.fullscreenElement){ el.requestFullscreen().catch(()=>{}); document.body.classList.add('fullscreen'); } else { document.exitFullscreen().catch(()=>{}); document.body.classList.remove('fullscreen'); } }

    // Login handling — all fields mandatory and must match defaults
    loginBtn.addEventListener('click', ()=>{
      const u = usernameInp.value.trim(); const p = passwordInp.value; const pr = promoInp.value.trim();
      if(!u || !p || !pr){ alert('All fields are mandatory.'); return; }
      if(u === DEFAULTS.username && p === DEFAULTS.password && pr === DEFAULTS.promo){ // success
        saveLogged({username:u,loginAt:new Date().toISOString()}); loginArea.classList.add('hidden'); mainUI.classList.remove('hidden'); // load states
        loadMain(); loadRest(); updateMainDisplay(); updateRestDisplay(); showRandomQuote();
        // user must press start manually
      } else { alert('Invalid credentials or promo. Use provided defaults.'); }
    });

    // Buttons bindings
    startBtn.addEventListener('click', ()=> startMain());
    stopBtn.addEventListener('click', ()=> stopMain());
    resetBtnMain.addEventListener('click', ()=> resetMain());
    fullscreenBtn.addEventListener('click', ()=> toggleFullscreen());

    openRestBtn.addEventListener('click', ()=>{ restArea.classList.toggle('hidden'); if(!restArea.classList.contains('hidden')) updateRestDisplay(); });
    restStart.addEventListener('click', ()=> startRest());
    restStop.addEventListener('click', ()=> stopRest());
    restReset.addEventListener('click', ()=> resetRest());

    // Quote rotation
    function showRandomQuote(){ quoteArea.textContent = '"' + quotes[Math.floor(Math.random()*quotes.length)] + '"'; }
    setInterval(showRandomQuote, 20000);

    // On load: if user already logged (localStorage) show UI
    (function init(){ const session = loadLogged(); if(session){ loginArea.classList.add('hidden'); mainUI.classList.remove('hidden'); loadMain(); loadRest(); updateMainDisplay(); updateRestDisplay(); showRandomQuote(); } else { /* show login */ }
      // persist running state regularly
      setInterval(()=>{ if(main.running) saveMain(); if(rest.running) saveRest(); }, 3000);
    })();

    // Warn user about clearing site data
    (function storageNote(){ const note = document.createElement('div'); note.style.marginTop='12px'; note.style.fontSize='12px'; note.style.color='#fbbf24'; note.textContent = 'Note: data is stored in localStorage. Clearing site data will erase times.'; document.querySelector('.wrap').appendChild(note); })();
  </script>
</body>
</html>
